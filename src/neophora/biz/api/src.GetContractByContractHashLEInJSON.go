package api

import (
	"encoding/json"
	"neophora/lib/type/bins"
	"neophora/lib/type/h160"
	"neophora/var/stderr"
)

// GetContractByContractHashLEInJSON ...
// as an example:
//
// ```
// $ curl https://example.neophora.io -d '{"jsonrpc": "2.0","id": 1,"method": "GetContractByContractHashLEInJSON","params":{"ContractHashLE":"ac116d4b8d4ca55e6b6d4ecce2192039b51cccc5"}}'
// {"id":1,"result":{"author":"ZEEPIN FOUNDATION","code_version":"1.0","description":"Zeepin Token","email":"admin@zeepin.org","hash":"c5cc1cb5392019e2cc4e6d6b5ea54c8d4b6d11ac","name":"Zeepin Token","parameters":["String","Array"],"properties":1,"returntype":"ByteArray","script":"0121c56b6c766b00527ac46c766b51527ac4616168164e656f2e52756e74696d652e47657454726967676572009c6c766b54527ac46c766b54c3643f00616114f9a28e064678c6ad2d90f7b1d6886d3a6fa34f896168184e656f2e52756e74696d652e436865636b5769746e6573736c766b55527ac462b0046168164e656f2e52756e74696d652e47657454726967676572609c6c766b56527ac46c766b56c3640d04616c766b00c304696e6974876c766b57527ac46c766b57c36411006165a6046c766b55527ac4625d046c766b00c30a6d696e74546f6b656e73876c766b58527ac46c766b58c3641100616570076c766b55527ac4622f046c766b00c30b746f74616c537570706c79876c766b59527ac46c766b59c36411006165970c6c766b55527ac46200046c766b00c3046e616d65876c766b5a527ac46c766b5ac36411006165eb036c766b55527ac462d8036c766b00c30673796d626f6c876c766b5b527ac46c766b5bc36411006165d5036c766b55527ac462ae036c766b00c30a746f74616c546f6b656e876c766b5c527ac46c766b5cc36411006165ba036c766b55527ac46280036c766b00c306656e6449636f876c766b5d527ac46c766b5dc3641100616553096c766b55527ac46256036c766b00c3137175657279496e666c6174696f6e546f6b656e876c766b5e527ac46c766b5ec36411006165990e6c766b55527ac4621f036c766b00c30669636f4e656f876c766b5f527ac46c766b5fc36411006165d40e6c766b55527ac462f5026c766b00c3127175657279496e666c6174696f6e52617465876c766b60527ac46c766b60c36411006165640a6c766b55527ac462bf026c766b00c3177175657279496e666c6174696f6e537461727454696d65876c766b0111527ac46c766b0111c36411006165780a6c766b55527ac46282026c766b00c3127175657279496e666c6174696f6e54696d65876c766b0112527ac46c766b0112c36411006165910a6c766b55527ac4624a026c766b00c309696e666c6174696f6e876c766b0113527ac46c766b0113c36411006165500e6c766b55527ac4621b026c766b00c30d696e666c6174696f6e52617465876c766b0114527ac46c766b0114c3644d00616c766b51c3c0519c009c6c766b0116527ac46c766b0116c3640e00006c766b55527ac462cf016c766b51c300c36c766b0115527ac46c766b0115c361654e136c766b55527ac462ac016c766b00c3087472616e73666572876c766b0117527ac46c766b0117c3647900616c766b51c3c0539c009c6c766b011b527ac46c766b011bc3640e00006c766b55527ac46265016c766b51c300c36c766b0118527ac46c766b51c351c36c766b0119527ac46c766b51c352c36c766b011a527ac46c766b0118c36c766b0119c36c766b011ac361527265fc096c766b55527ac46216016c766b00c30962616c616e63654f66876c766b011c527ac46c766b011cc3644d00616c766b51c3c0519c009c6c766b011e527ac46c766b011ec3640e00006c766b55527ac462ce006c766b51c300c36c766b011d527ac46c766b011dc36165d60b6c766b55527ac462ab006c766b00c308646563696d616c73876c766b011f527ac46c766b011fc36411006165af006c766b55527ac4627d0061616511176c766b52527ac461657f186c766b53527ac46c766b53c300907c907ca1630e006c766b52c3c000a0620400006c766b0120527ac46c766b0120c364300061616c766b52c36c766b53c3617c06726566756e6453c168124e656f2e52756e74696d652e4e6f746966796161006c766b55527ac46203006c766b55c3616c756600c56b0c5a656570696e20546f6b656e616c756600c56b035a5054616c756600c56b58616c756600c56b0700cc94ba38c63a616c756653c56b616168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79617c680f4e656f2e53746f726167652e4765746c766b00527ac46c766b00c3c000a06c766b51527ac46c766b51c3640e00006c766b52527ac4628d026168164e656f2e53746f726167652e476574436f6e746578746114b30f23279d728063e8b7414bc641a20ef56c6d05070034307483dc76615272680f4e656f2e53746f726167652e5075746161006114b30f23279d728063e8b7414bc641a20ef56c6d05070034307483dc76615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f74696679616168164e656f2e53746f726167652e476574436f6e746578746114f0d16987942088dd9af81a5a12a163c58c68944307000082dfe40d47615272680f4e656f2e53746f726167652e5075746161006114f0d16987942088dd9af81a5a12a163c58c68944307000082dfe40d47615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f74696679616168164e656f2e53746f726167652e476574436f6e74657874611413e07e9f4ca4fa0852aa0f024538e218e25f6b8607000082dfe40d47615272680f4e656f2e53746f726167652e507574616100611413e07e9f4ca4fa0852aa0f024538e218e25f6b8607000082dfe40d47615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f74696679616168164e656f2e53746f726167652e476574436f6e7465787461144147e57c5281c971f5704fd0ab9a905b60230047070000c16ff28623615272680f4e656f2e53746f726167652e50757461610061144147e57c5281c971f5704fd0ab9a905b60230047070000c16ff28623615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f74696679616168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79080034f5a23f7f2801615272680f4e656f2e53746f726167652e50757461516c766b52527ac46203006c766b52c3616c75665ec56b6161655d136c766b00527ac46c766b00c3c0009c6c766b59527ac46c766b59c3640f0061006c766b5a527ac46284026168184e656f2e426c6f636b636861696e2e4765744865696768746168184e656f2e426c6f636b636861696e2e4765744865616465726168174e656f2e4865616465722e47657454696d657374616d706c766b51527ac46c766b51c304509a605a946c766b52527ac461653f146c766b53527ac46c766b00c36c766b53c36c766b52c36152726549176c766b54527ac46c766b54c3009c6c766b5b527ac46c766b5bc3640f0061006c766b5a527ac462d2016c766b52c36165540e6c766b55527ac46c766b55c3009c6c766b5c527ac46c766b5cc3643a0061616c766b00c36c766b54c3617c06726566756e6453c168124e656f2e52756e74696d652e4e6f7469667961006c766b5a527ac46275016c766b00c36c766b54c36c766b55c361527265ec0e6c766b56527ac46c766b56c3009c6c766b5d527ac46c766b5dc3640f0061006c766b5a527ac46237016168164e656f2e53746f726167652e476574436f6e746578746c766b00c3617c680f4e656f2e53746f726167652e4765746c766b57527ac46168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b56c36c766b57c393615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79617c680f4e656f2e53746f726167652e4765746c766b58527ac46168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c796c766b56c36c766b58c393615272680f4e656f2e53746f726167652e5075746161006c766b00c36c766b56c3615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f7469667961516c766b5a527ac46203006c766b5ac3616c756655c56b616114f9a28e064678c6ad2d90f7b1d6886d3a6fa34f896168184e656f2e52756e74696d652e436865636b5769746e657373009c6c766b52527ac46c766b52c3640e00006c766b53527ac46251016168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79617c680f4e656f2e53746f726167652e4765746c766b00527ac40800008a5d784563016c766b00c3946c766b51527ac46c766b51c300a16c766b54527ac46c766b54c3640f0061006c766b53527ac462da006168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c790800008a5d78456301615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e746578746114f9a28e064678c6ad2d90f7b1d6886d3a6fa34f896c766b51c3615272680f4e656f2e53746f726167652e5075746161006114f9a28e064678c6ad2d90f7b1d6886d3a6fa34f896c766b51c3615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f7469667961516c766b53527ac46203006c766b53c3616c756651c56b616168164e656f2e53746f726167652e476574436f6e746578740d696e666c6174696f6e52617465617c680f4e656f2e53746f726167652e4765746c766b00527ac46203006c766b00c3616c756651c56b616168164e656f2e53746f726167652e476574436f6e746578740d696e666c6174696f6e54696d65617c680f4e656f2e53746f726167652e4765746c766b00527ac46203006c766b00c3616c756651c56b616168164e656f2e53746f726167652e476574436f6e746578740c696e666c6174696f6e446179617c680f4e656f2e53746f726167652e4765746c766b00527ac46203006c766b00c3616c756651c56b616168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79617c680f4e656f2e53746f726167652e4765746c766b00527ac46203006c766b00c3616c75665bc56b6c766b00527ac46c766b51527ac46c766b52527ac4616c766b52c300a16c766b55527ac46c766b55c3640e00006c766b56527ac46205026c766b00c36168184e656f2e52756e74696d652e436865636b5769746e657373009c6c766b57527ac46c766b57c3640e00006c766b56527ac462c9016c766b00c36c766b51c39c6c766b58527ac46c766b58c3640e00516c766b56527ac462a4016168164e656f2e53746f726167652e476574436f6e746578746c766b00c3617c680f4e656f2e53746f726167652e4765746c766b53527ac46c766b53c36c766b52c39f6c766b59527ac46c766b59c3640e00006c766b56527ac46247016c766b53c36c766b52c39c6c766b5a527ac46c766b5ac3643b006168164e656f2e53746f726167652e476574436f6e746578746c766b00c3617c68124e656f2e53746f726167652e44656c657465616241006168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b53c36c766b52c394615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e746578746c766b51c3617c680f4e656f2e53746f726167652e4765746c766b54527ac46168164e656f2e53746f726167652e476574436f6e746578746c766b51c36c766b54c36c766b52c393615272680f4e656f2e53746f726167652e50757461616c766b00c36c766b51c36c766b52c3615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f7469667961516c766b56527ac46203006c766b56c3616c756652c56b6c766b00527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c3617c680f4e656f2e53746f726167652e4765746c766b51527ac46203006c766b51c3616c756652c56b616168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79617c680f4e656f2e53746f726167652e4765746c766b00527ac46c766b00c30800008a5d78456301946c766b51527ac46203006c766b51c3616c756652c56b616168164e656f2e53746f726167652e476574436f6e746578740669636f4e656f617c680f4e656f2e53746f726167652e4765746c766b00527ac46c766b00c36c766b51527ac46203006c766b51c3616c75660112c56b616114e040f55c989f69796b3b24425048877993721cfa6168184e656f2e52756e74696d652e436865636b5769746e657373009c6c766b5c527ac46c766b5cc3640e00006c766b5d527ac46215056168164e656f2e53746f726167652e476574436f6e746578740d696e666c6174696f6e52617465617c680f4e656f2e53746f726167652e4765746c766b00527ac46c766b00c3009c6c766b5e527ac46c766b5ec3640e00006c766b5d527ac462b3046168184e656f2e426c6f636b636861696e2e4765744865696768746168184e656f2e426c6f636b636861696e2e4765744865616465726168174e656f2e4865616465722e47657454696d657374616d706c766b51527ac46168164e656f2e53746f726167652e476574436f6e746578740c696e666c6174696f6e446179617c680f4e656f2e53746f726167652e4765746c766b52527ac46c766b51c36c766b52c3946c766b53527ac46c766b53c3009f6c766b5f527ac46c766b5fc3640e00006c766b5d527ac462e9036168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79617c680f4e656f2e53746f726167652e4765746c766b54527ac46168164e656f2e53746f726167652e476574436f6e746578740d696e666c6174696f6e54696d65617c680f4e656f2e53746f726167652e4765746c766b55527ac4048033e1016c766b56527ac4038051016c766b57527ac46c766b55c3009c6c766b60527ac46c766b60c364a40061006c766b53527ac46c766b51c36c766b52527ac46168164e656f2e53746f726167652e476574436f6e746578740d696e666c6174696f6e54696d656c766b51c3615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e7465787413696e666c6174696f6e42617365416d6f756e746c766b54c3615272680f4e656f2e53746f726167652e507574616162af006c766b51c36c766b55c3946c766b56c3a26c766b0111527ac46c766b0111c3648d00616168164e656f2e53746f726167652e476574436f6e746578740d696e666c6174696f6e54696d656c766b55c3615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e7465787413696e666c6174696f6e42617365416d6f756e746c766b54c3615272680f4e656f2e53746f726167652e50757461616168164e656f2e53746f726167652e476574436f6e7465787413696e666c6174696f6e42617365416d6f756e74617c680f4e656f2e53746f726167652e4765746c766b58527ac46c766b53c36c766b57c39651936c766b59527ac46c766b58c36c766b00c3956c766b59c39503948e00966c766b5a527ac46168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c796c766b54c36c766b5ac393615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e746578740c696e666c6174696f6e4461796c766b52c36c766b59c36c766b57c39593615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e746578746114e040f55c989f69796b3b24425048877993721cfa617c680f4e656f2e53746f726167652e4765746c766b5b527ac46168164e656f2e53746f726167652e476574436f6e746578746114e040f55c989f69796b3b24425048877993721cfa6c766b5bc36c766b5ac393615272680f4e656f2e53746f726167652e5075746161006114e040f55c989f69796b3b24425048877993721cfa6c766b5ac3615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f7469667961516c766b5d527ac46203006c766b5dc3616c756654c56b6c766b00527ac4616114e040f55c989f69796b3b24425048877993721cfa6168184e656f2e52756e74696d652e436865636b5769746e657373009c6c766b51527ac46c766b51c3640e00006c766b52527ac4627f006c766b00c3009f630d006c766b00c35aa0620400516c766b53527ac46c766b53c3640f0061006c766b52527ac4624f006168164e656f2e53746f726167652e476574436f6e746578740d696e666c6174696f6e526174656c766b00c3615272680f4e656f2e53746f726167652e50757461516c766b52527ac46203006c766b52c3616c756657c56b6c766b00527ac4616c766b00c30300a302a0009c6c766b51527ac46c766b51c36414006105009ecc071a6c766b52527ac462c4006c766b00c303004605a0009c6c766b53527ac46c766b53c3641400610500083307186c766b52527ac46298006c766b00c30300e907a0009c6c766b54527ac46c766b54c36414006105003de606176c766b52527ac4626c006c766b00c303008c0aa0009c6c766b55527ac46c766b55c3641400610500729906166c766b52527ac46240006c766b00c303002f0da0009c6c766b56527ac46c766b56c3641400610500a74c06156c766b52527ac4621400610500dcff05146c766b52527ac46203006c766b52c3616c75665ec56b6c766b00527ac46c766b51527ac46c766b52527ac4616c766b51c30400e1f505966c766b52c3956c766b53527ac46168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79617c680f4e656f2e53746f726167652e4765746c766b54527ac46168164e656f2e53746f726167652e476574436f6e746578740669636f4e656f617c680f4e656f2e53746f726167652e4765746c766b55527ac40800008a5d784563016c766b54c3946c766b56527ac46c766b56c300a16c766b57527ac46c766b57c3643a0061616c766b00c36c766b51c3617c06726566756e6453c168124e656f2e52756e74696d652e4e6f7469667961006c766b58527ac46210026c766b56c36c766b53c39f6c766b59527ac46c766b59c3649b01616c766b56c36c766b52c3966c766b5a527ac46c766b5ac36c766b52c3956c766b53527ac46c766b51c36c766b5ac30400e1f50595946c766b5b527ac4616c766b00c36c766b5bc3617c06726566756e6453c168124e656f2e52756e74696d652e4e6f74696679616c766b56c36c766b53c3946c766b5c527ac46168164e656f2e53746f726167652e476574436f6e746578746114f9a28e064678c6ad2d90f7b1d6886d3a6fa34f896c766b5cc3615272680f4e656f2e53746f726167652e507574616168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c79617c680f4e656f2e53746f726167652e4765746c766b5d527ac46168164e656f2e53746f726167652e476574436f6e746578740b746f74616c537570706c796c766b5dc36c766b5cc393615272680f4e656f2e53746f726167652e507574616c766b5ac30400e1f505956a51527ac461006114f9a28e064678c6ad2d90f7b1d6886d3a6fa34f896c766b5cc3615272087472616e7366657254c168124e656f2e52756e74696d652e4e6f7469667961616c766b55c36c766b51c3936c766b55527ac46168164e656f2e53746f726167652e476574436f6e746578740669636f4e656f6c766b55c3615272680f4e656f2e53746f726167652e507574616c766b53c36c766b58527ac46203006c766b58c3616c756657c56b6161682953797374656d2e457865637574696f6e456e67696e652e476574536372697074436f6e7461696e65726c766b00527ac46c766b00c361681d4e656f2e5472616e73616374696f6e2e4765745265666572656e6365736c766b51527ac4616c766b51c36c766b52527ac4006c766b53527ac4629e006c766b52c36c766b53c3c36c766b54527ac4616c766b54c36168154e656f2e4f75747075742e4765744173736574496461209b7cffdaa674beae0f930ebe6085af9093e5fe56b34a5c220ccdcf6efc336fc59c6c766b55527ac46c766b55c3642d006c766b54c36168184e656f2e4f75747075742e476574536372697074486173686c766b56527ac4622500616c766b53c351936c766b53527ac46c766b53c36c766b52c3c09f6359ff006203006c766b56c3616c756651c56b6161682d53797374656d2e457865637574696f6e456e67696e652e476574457865637574696e67536372697074486173686c766b00527ac46203006c766b00c3616c756658c56b6161682953797374656d2e457865637574696f6e456e67696e652e476574536372697074436f6e7461696e65726c766b00527ac46c766b00c361681a4e656f2e5472616e73616374696f6e2e4765744f7574707574736c766b51527ac4006c766b52527ac4616c766b51c36c766b53527ac4006c766b54527ac462ce006c766b53c36c766b54c3c36c766b55527ac4616c766b55c36168184e656f2e4f75747075742e47657453637269707448617368616505ff907c907c9e6346006c766b55c36168154e656f2e4f75747075742e4765744173736574496461209b7cffdaa674beae0f930ebe6085af9093e5fe56b34a5c220ccdcf6efc336fc59c620400006c766b56527ac46c766b56c3642d00616c766b52c36c766b55c36168134e656f2e4f75747075742e47657456616c7565936c766b52527ac461616c766b54c351936c766b54527ac46c766b54c36c766b53c3c09f6329ff6c766b52c36c766b57527ac46203006c766b57c3616c756658c56b6c766b00527ac46c766b51527ac46c766b52527ac4616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b52c37e617c680f4e656f2e53746f726167652e4765746c766b53527ac40500ac23fc066c766b53c3946c766b54527ac46c766b54c300a0009c6c766b55527ac46c766b55c3643a0061616c766b00c36c766b51c3617c06726566756e6453c168124e656f2e52756e74696d652e4e6f7469667961006c766b56527ac462f5006c766b54c36c766b51c39f6c766b57527ac46c766b57c364880061616c766b00c36c766b51c36c766b54c394617c06726566756e6453c168124e656f2e52756e74696d652e4e6f74696679616168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b52c37e6c766b54c36c766b53c393615272680f4e656f2e53746f726167652e507574616c766b54c36c766b56527ac46256006168164e656f2e53746f726167652e476574436f6e746578746c766b00c36c766b52c37e6c766b51c36c766b53c393615272680f4e656f2e53746f726167652e507574616c766b51c36c766b56527ac46203006c766b56c3616c75665bc56b6c766b00527ac46c766b51527ac46c766b52527ac4616c766b52c3009f6c766b53527ac46c766b53c3643a0061616c766b00c36c766b51c3617c06726566756e6453c168124e656f2e52756e74696d652e4e6f7469667961006c766b54527ac462a2016c766b52c30300a302a0009c6c766b55527ac46c766b55c3642400616c766b00c36c766b51c3056361705f3161527265b7fd6c766b54527ac46266016c766b52c303004605a0009c6c766b56527ac46c766b56c3642400616c766b00c36c766b51c3056361705f32615272657bfd6c766b54527ac4622a016c766b52c30300e907a0009c6c766b57527ac46c766b57c3642400616c766b00c36c766b51c3056361705f33615272653ffd6c766b54527ac462ee006c766b52c303008c0aa0009c6c766b58527ac46c766b58c3642400616c766b00c36c766b51c3056361705f346152726503fd6c766b54527ac462b2006c766b52c303002f0da0009c6c766b59527ac46c766b59c3642400616c766b00c36c766b51c3056361705f3561527265c7fc6c766b54527ac46276006c766b52c30380800ea0009c6c766b5a527ac46c766b5ac3642400616c766b00c36c766b51c3056361705f36615272658bfc6c766b54527ac4623a0061616c766b00c36c766b51c3617c06726566756e6453c168124e656f2e52756e74696d652e4e6f7469667961006c766b54527ac46203006c766b54c3616c7566"},"error":null}
// ```
func (me *T) GetContractByContractHashLEInJSON(args struct {
	ContractHashLE h160.T
}, ret *json.RawMessage) error {
	if args.ContractHashLE.Valid() == false {
		return stderr.ErrInvalidArgs
	}
	var result bins.T
	if err := me.Data.GetLatestUint64ValInBins(struct {
		Target string
		Index  string
		Keys   []string
	}{
		Target: "bins.ctr",
		Index:  "h160.ctr-uint.hgt",
		Keys:   []string{args.ContractHashLE.RevVal()},
	}, &result); err != nil {
		return err
	}
	if result.Valid() == false {
		return stderr.ErrNotFound
	}
	js, err := result.JSONViaContract()
	if err != nil {
		return stderr.ErrNotFound
	}
	*ret = js
	return nil
}
